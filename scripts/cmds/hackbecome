
module.exports = {
  config: {
    name: "hackbecome",
    version: "1.0",
    author: "L'Uchiha Perdu",
    role: 0,
    shortDescription: "Devenir hackeur",
    longDescription: "Répondez à deux questions difficiles pour devenir hackeur et utiliser `/hack2`.",
    category: "fun",
    guide: "{p}hackbecome"
  },

  onStart: async function ({ message, event, usersData }) {
    const senderID = event.senderID;

    // Vérification si l'utilisateur est déjà hackeur
    const userData = await usersData.get(senderID);
    if (userData.hackeur) {
      return message.reply("💻 Vous êtes déjà un hackeur !");
    }

    // Envoi des défis
    return message.reply(
      "🧠 **Défi hackeur :** Répondez à ces deux questions en une seule réponse.\n\n" +
      "1️⃣ **Factorisez :** x² - 4x + 4 = ?\n" +
      "2️⃣ **Quiz :** Quel est le port par défaut de SSH ?\n\n" +
      "💡 **Répondez sous cette forme :** `1) réponse 2) réponse`"
    );
  },

  onReply: async function ({ message, event, usersData }) {
    const senderID = event.senderID;
    const reply = event.body.toLowerCase().trim();

    // Vérification des réponses
    if (reply === "1) (x-2)(x-2) 2) 22") {
      const userData = await usersData.get(senderID);
      userData.hackeur = true;
      await usersData.set(senderID, userData);
      return message.reply("✅ **Félicitations !** Vous êtes maintenant un hackeur et pouvez utiliser `/hack2` !");
    } else {
      return message.reply("❌ Mauvaise réponse ! Réessayez.");
    }
  }
};